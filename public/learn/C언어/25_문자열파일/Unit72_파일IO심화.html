<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Unit 72. íŒŒì¼ I/O ì‹¬í™” â€” C ì–¸ì–´</title>
    <link rel="stylesheet" href="../common.css">
</head>

<body>
    <div class="wrap">
        <div class="hdr">
            <h1>Unit 72. íŒŒì¼ I/O ì‹¬í™”</h1>
            <div class="sub">ë°”ì´ë„ˆë¦¬ Â· fseek/ftell Â· êµ¬ì¡°ì²´ ì €ì¥ Â· ì„ì‹œíŒŒì¼ Â· ì—ëŸ¬ ì²˜ë¦¬</div>
            <span class="unit-badge">Chapter 25 Â· ë¬¸ìì—´Â·íŒŒì¼</span>
            <div class="level-bar"><span class="on"></span><span class="on"></span><span class="on"></span><span
                    class="on"></span></div>
            <div class="meta"><span class="tag pri">ğŸ’¾ íŒŒì¼I/O</span><span class="tag acc">ğŸ“ 15ë¬¸ì œ</span><span
                    class="tag">â± 50ë¶„</span></div>
        </div>
        <div class="stu-bar"><label>ğŸ‘¤ ì´ë¦„ <input type="text" id="stu-name" placeholder="ì´ë¦„"></label><label>ğŸ“… ë‚ ì§œ <input
                    type="date" id="stu-date"></label></div>
        <div id="problems"></div>
        <div class="submit-section">
            <p>ëª¨ë“  ë¬¸ì œë¥¼ í’€ì—ˆë‚˜ìš”? ğŸ“¨</p><button class="btn-submit" id="btn-submit">ğŸ“„ ì œì¶œí•˜ê¸°</button>
        </div>
        <div class="modal-overlay" id="submit-modal">
            <div class="modal-box">
                <div class="modal-icon">âœ…</div>
                <h3>ì œì¶œ ì™„ë£Œ!</h3>
                <p>í•™ìŠµì§€ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                <div style="margin:12px 0"><span class="info-tag" id="modal-name"></span> <span class="info-tag"
                        id="modal-date"></span> <span class="info-tag" id="modal-count"></span></div>
                <p style="font-size:.78rem;color:var(--dim)">ğŸ“ <strong id="modal-filename"></strong></p><button
                    class="btn-close-modal" id="btn-close-modal">í™•ì¸</button>
            </div>
        </div>
        <div class="pg"><a href="Unit71_ë¬¸ìì—´ì‹¬í™”.html">â† Unit 71</a><span class="tag active">Unit 72</span><a
                href="../26_DPê·¸ë˜í”„/Unit73_DP.html">Unit 73 â†’</a></div>
        <div class="ft">ğŸ’¾ íŒŒì¼ I/O ì‹¬í™” Â· Unit 72</div>
    </div>
    <script>
        const P = [
            {
                n: 1, t: "íŒŒì¼ ì—´ê¸° ëª¨ë“œ ì´ì •ë¦¬", d: 1,
                q: `ê° ëª¨ë“œì˜ ë™ì‘ì„ ì„¤ëª…í•˜ì„¸ìš”.
<pre class="code-c">FILE *f;
f = fopen("test.txt", "r");   <span class="cm">// ?</span>
f = fopen("test.txt", "w");   <span class="cm">// ?</span>
f = fopen("test.txt", "a");   <span class="cm">// ?</span>
f = fopen("test.txt", "r+");  <span class="cm">// ?</span>
f = fopen("test.txt", "w+");  <span class="cm">// ?</span>
f = fopen("test.bin", "rb");  <span class="cm">// ?</span>
f = fopen("test.bin", "wb");  <span class="cm">// ?</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c">"r"  â†’ ì½ê¸° ì „ìš© (íŒŒì¼ ì—†ìœ¼ë©´ ì‹¤íŒ¨)
"w"  â†’ ì“°ê¸° ì „ìš© (<span class="err">ê¸°ì¡´ ë‚´ìš© ì‚­ì œ!</span> ì—†ìœ¼ë©´ ìƒì„±)
"a"  â†’ ì¶”ê°€ ì „ìš© (ëì— ì´ì–´ì“°ê¸°, ì—†ìœ¼ë©´ ìƒì„±)
"r+" â†’ ì½ê¸°+ì“°ê¸° (íŒŒì¼ ì—†ìœ¼ë©´ ì‹¤íŒ¨)
"w+" â†’ ì½ê¸°+ì“°ê¸° (ê¸°ì¡´ ì‚­ì œ, ì—†ìœ¼ë©´ ìƒì„±)
"rb" â†’ ë°”ì´ë„ˆë¦¬ ì½ê¸°
"wb" â†’ ë°”ì´ë„ˆë¦¬ ì“°ê¸°</pre><div class="trace">âš ï¸ "w"ëŠ” ê¸°ì¡´ íŒŒì¼ ë‚´ìš© ì „ë¶€ ì‚­ì œ!<br>b: ë°”ì´ë„ˆë¦¬ ëª¨ë“œ (ìœˆë„ìš°ì—ì„œ ì¤‘ìš”!)<br>ìœˆë„ìš°: \\n âŸ· \\r\\n ë³€í™˜ ë°©ì§€</div>`},

            {
                n: 2, t: "ë°”ì´ë„ˆë¦¬ íŒŒì¼ ì½ê¸°/ì“°ê¸° (fread/fwrite)", d: 2,
                q: `ì •ìˆ˜ ë°°ì—´ì„ ë°”ì´ë„ˆë¦¬ íŒŒì¼ë¡œ ì €ì¥í•˜ê³  ì½ìœ¼ì„¸ìš”.
<pre class="code-c">int arr[5] = {10, 20, 30, 40, 50};
<span class="cm">// ë°”ì´ë„ˆë¦¬ë¡œ ì €ì¥ â†’ ë‹¤ì‹œ ì½ê¸°</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c"><span class="cm">// ì €ì¥</span>
FILE *f = fopen("data.bin", "wb");
fwrite(arr, sizeof(int), 5, f);
fclose(f);

<span class="cm">// ì½ê¸°</span>
int loaded[5];
f = fopen("data.bin", "rb");
size_t read = fread(loaded, sizeof(int), 5, f);
fclose(f);
printf("ì½ì€ ìˆ˜: %lu\\n", read); <span class="cm">// 5</span>
for (int i=0;i<5;i++) printf("%d ",loaded[i]);</pre><div class="trace">fwrite(ë°ì´í„°, í¬ê¸°, ê°œìˆ˜, íŒŒì¼)<br>fread(ë²„í¼, í¬ê¸°, ê°œìˆ˜, íŒŒì¼)<br>í…ìŠ¤íŠ¸ë³´ë‹¤ ë¹ ë¥´ê³  ì •í™•!</div>`},

            {
                n: 3, t: "êµ¬ì¡°ì²´ íŒŒì¼ ì €ì¥/ë¡œë“œ", d: 2,
                q: `í•™ìƒ ë°°ì—´ì„ íŒŒì¼ì— ì €ì¥í•˜ê³  ë¶ˆëŸ¬ì˜¤ì„¸ìš”.
<pre class="code-c">typedef struct { char name[20]; int score; } Student;
Student arr[] = { {"Kim",90}, {"Lee",85}, {"Park",95} };</pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c"><span class="cm">// ì €ì¥</span>
FILE *f = fopen("students.dat", "wb");
int n = 3;
fwrite(&n, sizeof(int), 1, f); <span class="cm">// ê°œìˆ˜ ë¨¼ì €!</span>
fwrite(arr, sizeof(Student), n, f);
fclose(f);

<span class="cm">// ë¡œë“œ</span>
f = fopen("students.dat", "rb");
int count;
fread(&count, sizeof(int), 1, f);
Student *loaded = malloc(count * sizeof(Student));
fread(loaded, sizeof(Student), count, f);
fclose(f);

for (int i=0;i<count;i++)
    printf("%s: %d\\n", loaded[i].name, loaded[i].score);
free(loaded);</pre>`},

            {
                n: 4, t: "fseek / ftell / rewind", d: 2,
                q: `íŒŒì¼ì˜ íŠ¹ì • ìœ„ì¹˜ë¡œ ì´ë™í•˜ì„¸ìš”.
<pre class="code-c"><span class="cm">// íŒŒì¼ í¬ê¸° êµ¬í•˜ê¸°</span>
<span class="cm">// íŒŒì¼ ì¤‘ê°„ë¶€í„° ì½ê¸°</span>
<span class="cm">// ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c">FILE *f = fopen("data.bin", "rb");

<span class="cm">// íŒŒì¼ í¬ê¸°</span>
fseek(f, 0, SEEK_END);   <span class="cm">// ëìœ¼ë¡œ</span>
long size = ftell(f);      <span class="cm">// í˜„ì¬ ìœ„ì¹˜ = í¬ê¸°</span>
printf("í¬ê¸°: %ld bytes\\n", size);

<span class="cm">// 3ë²ˆì§¸ int ìœ„ì¹˜ë¡œ</span>
fseek(f, 2*sizeof(int), SEEK_SET);
int val;
fread(&val, sizeof(int), 1, f);
printf("3ë²ˆì§¸: %d\\n", val);

<span class="cm">// ì²˜ìŒìœ¼ë¡œ</span>
rewind(f); <span class="cm">// = fseek(f, 0, SEEK_SET)</span>
fclose(f);</pre><div class="trace">SEEK_SET: íŒŒì¼ ì‹œì‘ ê¸°ì¤€<br>SEEK_CUR: í˜„ì¬ ìœ„ì¹˜ ê¸°ì¤€<br>SEEK_END: íŒŒì¼ ë ê¸°ì¤€</div>`},

            {
                n: 5, t: "í•œ ì¤„ì”© ì½ê¸° (fgets)", d: 2,
                q: `í…ìŠ¤íŠ¸ íŒŒì¼ì„ í•œ ì¤„ì”© ì½ê³  ì¤„ë²ˆí˜¸ë¥¼ ë¶™ì´ì„¸ìš”.
<pre class="code-c"><span class="cm">// ì…ë ¥ íŒŒì¼ â†’ ì¤„ë²ˆí˜¸ ë¶™ì—¬ì„œ ì¶œë ¥</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c">FILE *f = fopen("input.txt", "r");
if (!f) { perror("open"); return 1; }
char line[256];
int num = 1;
while (fgets(line, sizeof(line), f)) {
    <span class="cm">// ì¤„ë°”ê¿ˆ ì œê±°</span>
    line[strcspn(line, "\\n")] = '\\0';
    printf("%3d: %s\\n", num++, line);
}
fclose(f);</pre><div class="trace">fgets: ì¤„ë°”ê¿ˆ í¬í•¨í•´ì„œ ì½ìŒ!<br>strcspn: ì²« '\\n' ìœ„ì¹˜ ì°¾ê¸°<br>í•´ë‹¹ ìœ„ì¹˜ì— '\\0' â†’ ì¤„ë°”ê¿ˆ ì œê±°</div>`},

            {
                n: 6, t: "fprintf / fscanf", d: 2,
                q: `í…ìŠ¤íŠ¸ íŒŒì¼ì— í¬ë§·íŒ…ëœ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì„¸ìš”.
<pre class="code-c"><span class="cm">// ì´ë¦„,ì ìˆ˜ í˜•ì‹ìœ¼ë¡œ ì €ì¥ â†’ ë‹¤ì‹œ ì½ê¸°</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c"><span class="cm">// ì €ì¥</span>
FILE *f = fopen("scores.txt", "w");
fprintf(f, "Kim %d\\n", 90);
fprintf(f, "Lee %d\\n", 85);
fclose(f);

<span class="cm">// ì½ê¸°</span>
f = fopen("scores.txt", "r");
char name[20]; int score;
while (fscanf(f, "%s %d", name, &score) == 2)
    printf("%s: %dì \\n", name, score);
fclose(f);</pre>`},

            {
                n: 7, t: "íŒŒì¼ ë³µì‚¬ í”„ë¡œê·¸ë¨", d: 2,
                q: `ë°”ì´ë„ˆë¦¬ ì•ˆì „í•œ íŒŒì¼ ë³µì‚¬ë¥¼ ì‘ì„±í•˜ì„¸ìš”.
<pre class="code-c">int fileCopy(const char *src, const char *dst) {
    <span class="cm">// ëª¨ë“  ì¢…ë¥˜ì˜ íŒŒì¼ ë³µì‚¬ ê°€ëŠ¥</span>
}</pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c">int fileCopy(const char *src, const char *dst) {
    FILE *in = fopen(src, "rb");
    FILE *out = fopen(dst, "wb");
    if (!in || !out) return -1;

    char buf[4096]; <span class="cm">// 4KB ë²„í¼</span>
    size_t n;
    while ((n = fread(buf, 1, sizeof(buf), in)) > 0)
        fwrite(buf, 1, n, out);

    fclose(in);
    fclose(out);
    return 0;
}</pre><div class="trace">"rb"/"wb": ë°”ì´ë„ˆë¦¬ â†’ ëª¨ë“  íŒŒì¼ OK<br>4KB ë²„í¼ë¡œ íš¨ìœ¨ì  ë³µì‚¬<br>fread ë°˜í™˜ê°’ = ì‹¤ì œ ì½ì€ ë°”ì´íŠ¸ ìˆ˜</div>`},

            {
                n: 8, t: "ì„ì‹œ íŒŒì¼ (tmpfile/tmpnam)", d: 2,
                q: `ì„ì‹œ íŒŒì¼ì„ ì•ˆì „í•˜ê²Œ ìƒì„±í•˜ì„¸ìš”.
<pre class="code-c"><span class="cm">// tmpfile()ê³¼ tmpnam() ì‚¬ìš©ë²•ê³¼ ì°¨ì´</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c"><span class="cm">// ë°©ë²• 1: tmpfile (ë” ì•ˆì „! ìë™ ì‚­ì œ)</span>
FILE *tmp = tmpfile();
fprintf(tmp, "ì„ì‹œ ë°ì´í„°");
rewind(tmp);
char buf[50];
fgets(buf, sizeof(buf), tmp);
printf("%s\\n", buf);
fclose(tmp); <span class="cm">// ìë™ ì‚­ì œë¨!</span>

<span class="cm">// ë°©ë²• 2: tmpnam (íŒŒì¼ëª… ìƒì„±ë§Œ)</span>
char name[L_tmpnam];
tmpnam(name);
printf("ì„ì‹œíŒŒì¼ëª…: %s\\n", name);
<span class="cm">// ì§ì ‘ ì—´ê³  ë‹«ê³  ì‚­ì œí•´ì•¼ í•¨</span></pre><div class="trace">tmpfile: ìµëª… ì„ì‹œíŒŒì¼, fclose ì‹œ ìë™ ì‚­ì œ<br>tmpnam: ì´ë¦„ë§Œ ìƒì„±, ë³´ì•ˆ ì·¨ì•½ (TOCTOU)<br>â†’ tmpfileì´ ë” ì•ˆì „!</div>`},

            {
                n: 9, t: "ë²„í¼ë§ ì œì–´ (setvbuf/fflush)", d: 2,
                q: `íŒŒì¼ ë²„í¼ë§ ëª¨ë“œë¥¼ ì„¤ì •í•˜ì„¸ìš”.
<pre class="code-c"><span class="cm">// ì „ì²´ ë²„í¼ë§ / ì¤„ ë²„í¼ë§ / ë²„í¼ ì—†ìŒ</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c"><span class="cm">// ì „ì²´ ë²„í¼ë§ (ê¸°ë³¸, íŒŒì¼)</span>
setvbuf(f, NULL, _IOFBF, 8192);

<span class="cm">// ì¤„ ë²„í¼ë§ (ê¸°ë³¸, stdout)</span>
setvbuf(f, NULL, _IOLBF, 0);

<span class="cm">// ë²„í¼ ì—†ìŒ (ê¸°ë³¸, stderr)</span>
setvbuf(f, NULL, _IONBF, 0);

<span class="cm">// ìˆ˜ë™ í”ŒëŸ¬ì‹œ</span>
fprintf(f, "ì¦‰ì‹œ ê¸°ë¡!");
fflush(f); <span class="cm">// ë²„í¼â†’íŒŒì¼ ê°•ì œ ê¸°ë¡</span></pre><div class="trace">_IOFBF: Full Buffering<br>_IOLBF: Line Buffering<br>_IONBF: No Buffering<br>fflush: ë²„í¼ ê°•ì œ ë¹„ìš°ê¸°</div>`},

            {
                n: 10, t: "íŒŒì¼ í¬ê¸°ì™€ ë‹¨ì–´ ìˆ˜ ì„¸ê¸°", d: 2,
                q: `í…ìŠ¤íŠ¸ íŒŒì¼ì˜ ì¤„ ìˆ˜, ë‹¨ì–´ ìˆ˜, ë¬¸ì ìˆ˜ë¥¼ ì„¸ì„¸ìš”.
<pre class="code-c"><span class="cm">// wc ëª…ë ¹ì–´ êµ¬í˜„!</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c">void wc(const char *filename) {
    FILE *f = fopen(filename, "r");
    int lines=0, words=0, chars=0;
    int inWord = 0;
    int ch;
    while ((ch = fgetc(f)) != EOF) {
        chars++;
        if (ch == '\\n') lines++;
        if (ch==' '||ch=='\\n'||ch=='\\t') inWord=0;
        else if (!inWord) { inWord=1; words++; }
    }
    fclose(f);
    printf("%dì¤„ %dë‹¨ì–´ %dë¬¸ì\\n", lines, words, chars);
}</pre>`},

            {
                n: 11, t: "[ì¶œë ¥ì˜ˆì¸¡] íŒŒì¼ í¬ì¸í„° ì´ë™", d: 2,
                q: `<pre class="code-c"><span class="cm">// data.binì— {10,20,30,40,50} ì €ì¥ëœ ìƒíƒœ</span>
FILE *f = fopen("data.bin", "rb");
int val;
fseek(f, 3*sizeof(int), SEEK_SET);
fread(&val, sizeof(int), 1, f);
printf("%d\\n", val);
printf("%ld\\n", ftell(f));
fseek(f, -2*(long)sizeof(int), SEEK_CUR);
fread(&val, sizeof(int), 1, f);
printf("%d\\n", val);
fclose(f);</pre>`,
                a: `<span class="key">ì •ë‹µ</span><div class="output-box">40<br>16<br>30</div><div class="trace">fseek(3*4, SET): ìœ„ì¹˜ 12 â†’ arr[3]=40<br>fread í›„: ìœ„ì¹˜ 16<br>fseek(-8, CUR): 16-8=8 â†’ arr[2]=30</div>`
            },

            {
                n: 12, t: "íŒŒì¼ ì ê¸ˆ (flock ê°œë…)", d: 2,
                q: `ë‹¤ì¤‘ í”„ë¡œì„¸ìŠ¤ì—ì„œ íŒŒì¼ ì ‘ê·¼ì„ ì•ˆì „í•˜ê²Œ í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•˜ì„¸ìš”.
<pre class="code-c"><span class="cm">// íŒŒì¼ ì ê¸ˆì´ í•„ìš”í•œ ì´ìœ ì™€ ë°©ë²•</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c"><span class="cm">// POSIX flock (Linux/Mac)</span>
#include &lt;sys/file.h&gt;
int fd = open("data.txt", O_RDWR);
flock(fd, LOCK_EX); <span class="cm">// ë°°íƒ€ì  ì ê¸ˆ</span>
<span class="cm">// ... íŒŒì¼ ì‘ì—… ...</span>
flock(fd, LOCK_UN); <span class="cm">// ì ê¸ˆ í•´ì œ</span>

<span class="cm">// Windows: LockFile / _locking</span>
<span class="cm">// í¬ë¡œìŠ¤í”Œë«í¼: ì ê¸ˆ íŒŒì¼(.lock) ìƒì„±</span>

<span class="cm">// ê°„ë‹¨í•œ ë°©ë²•: .lock íŒŒì¼</span>
FILE *lock = fopen("data.lock", "wx"); <span class="cm">// ë…ì  ìƒì„±</span>
if (lock) {
    <span class="cm">// ì ê¸ˆ íšë“ â†’ ì‘ì—… ìˆ˜í–‰</span>
    fclose(lock);
    remove("data.lock"); <span class="cm">// ì ê¸ˆ í•´ì œ</span>
}</pre>`},

            {
                n: 13, t: "INI íŒŒì¼ íŒŒì„œ", d: 3,
                q: `ê°„ë‹¨í•œ INI í˜•ì‹ íŒŒì¼ì„ íŒŒì‹±í•˜ì„¸ìš”.
<pre class="code-c"><span class="cm">// [Section]</span>
<span class="cm">// key = value</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c">void parseINI(const char *filename) {
    FILE *f = fopen(filename, "r");
    char line[256], section[50]="";
    while (fgets(line, sizeof(line), f)) {
        line[strcspn(line,"\\n")] = 0;
        if (line[0]=='[') {
            sscanf(line, "[%[^]]]", section);
            printf("ì„¹ì…˜: %s\\n", section);
        } else if (line[0]!=';' && line[0]!='#' && line[0]) {
            char key[50], val[100];
            if (sscanf(line, "%[^=]=%[^\\n]", key, val)==2)
                printf("  %s = %s\\n", key, val);
        }
    }
    fclose(f);
}</pre>`},

            {
                n: 14, t: "íŒŒì¼ ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´", d: 2,
                q: `ì•ˆì „í•œ íŒŒì¼ ì²˜ë¦¬ íŒ¨í„´ì„ ì‘ì„±í•˜ì„¸ìš”.
<pre class="code-c"><span class="cm">// ì—´ê¸° ì‹¤íŒ¨, ì½ê¸° ì—ëŸ¬, ë””ìŠ¤í¬ í’€ ë“± ì²˜ë¦¬</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c">int processFile(const char *name) {
    FILE *f = fopen(name, "r");
    if (!f) {
        perror("fopen"); return -1;
    }

    char buf[256];
    while (fgets(buf, sizeof(buf), f)) {
        if (ferror(f)) {
            perror("fgets");
            fclose(f); return -2;
        }
        <span class="cm">// ì²˜ë¦¬...</span>
    }

    if (!feof(f)) {
        printf("ì˜ˆìƒì¹˜ ëª»í•œ ì¢…ë£Œ!\\n");
        fclose(f); return -3;
    }

    fclose(f);
    return 0; <span class="cm">// ì„±ê³µ</span>
}</pre><div class="trace">ferror: ì—ëŸ¬ ë°œìƒ í™•ì¸<br>feof: EOF ë„ë‹¬ í™•ì¸<br>perror: strerror(errno) ìë™ ì¶œë ¥</div>`},

            {
                n: 15, t: "ğŸ† ê°„ë‹¨í•œ ë°ì´í„°ë² ì´ìŠ¤ (CRUD)", d: 4,
                q: `íŒŒì¼ ê¸°ë°˜ í•™ìƒ DBì˜ CRUDë¥¼ êµ¬í˜„í•˜ì„¸ìš”.
<pre class="code-c"><span class="cm">// Create(ì¶”ê°€), Read(ì¡°íšŒ), Update(ìˆ˜ì •), Delete(ì‚­ì œ)</span></pre>`,
                a: `<span class="key">ì •ë‹µ</span><pre class="code-c">typedef struct { int id; char name[20]; int score; int active; } Rec;

void create(const char *fn, Rec r) {
    FILE *f = fopen(fn, "ab");
    r.active = 1;
    fwrite(&r, sizeof(Rec), 1, f);
    fclose(f);
}
Rec* readAll(const char *fn, int *cnt) {
    FILE *f = fopen(fn, "rb");
    fseek(f,0,SEEK_END);
    *cnt = ftell(f)/sizeof(Rec);
    rewind(f);
    Rec *arr = malloc(*cnt * sizeof(Rec));
    fread(arr, sizeof(Rec), *cnt, f);
    fclose(f); return arr;
}
void update(const char *fn, int id, int newScore) {
    FILE *f = fopen(fn, "r+b");
    Rec r;
    while (fread(&r,sizeof(Rec),1,f)==1) {
        if (r.id==id && r.active) {
            r.score = newScore;
            fseek(f, -(long)sizeof(Rec), SEEK_CUR);
            fwrite(&r, sizeof(Rec), 1, f);
            break;
        }
    }
    fclose(f);
}
void delete(const char *fn, int id) {
    FILE *f = fopen(fn, "r+b");
    Rec r;
    while (fread(&r,sizeof(Rec),1,f)==1) {
        if (r.id==id) {
            r.active = 0; <span class="cm">// ë…¼ë¦¬ì  ì‚­ì œ!</span>
            fseek(f, -(long)sizeof(Rec), SEEK_CUR);
            fwrite(&r, sizeof(Rec), 1, f);
            break;
        }
    }
    fclose(f);
}</pre>`}
        ];
        const c = document.getElementById('problems'); P.forEach(p => { const dc = p.d <= 1 ? 'ez' : p.d <= 2 ? 'md' : 'hd'; const dots = Array.from({ length: 5 }, (_, i) => `<span${i < p.d ? ' class="on"' : ''}>â€‹</span>`).join(''); c.innerHTML += `<div class="prob"><div class="prob-top"><div class="prob-num ${dc}">${p.n}</div><div class="prob-title">${p.t}</div><div class="diff-dots">${dots}</div></div><div class="prob-body"><div class="q">${p.q}</div><textarea class="write" placeholder="âœï¸ ë‹µì„ ì‘ì„±í•˜ì„¸ìš”" rows="8"></textarea><details class="ans"><summary>ì •ë‹µ ë° í•´ì„¤ ë³´ê¸°</summary><div class="ans-body">${p.a}</div></details></div></div>`; });
    </script>
    <script src="../submit.js"></script>
    <script src="../../platform.js"></script>
</body>

</html>