<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Unit 40. ν¬μΈν„°μ™€ λ°°μ—΄ β€” C μ–Έμ–΄ μ½”λ”© λ„μ¥</title>
    <link rel="stylesheet" href="../common.css">
</head>

<body>
    <div class="wrap">
        <div class="hdr">
            <h1>Unit 40. ν¬μΈν„°μ™€ λ°°μ—΄μ κ΄€κ³„</h1>
            <div class="sub">λ°°μ—΄ ν¬μΈν„° Β· ν¬μΈν„° λ°°μ—΄ Β· μ΄μ¤‘ ν¬μΈν„° Β· λ™μ  ν• λ‹Ή</div>
            <span class="unit-badge">Chapter 10 Β· ν¬μΈν„°</span>
            <div class="level-bar"><span class="on"></span><span class="on"></span><span class="on"></span></div>
            <div class="meta"><span class="tag pri">π–¥οΈ Cμ–Έμ–΄</span><span class="tag acc">π“ 15λ¬Έμ </span><span
                    class="tag">β± 30~45λ¶„</span></div>
        </div>
        <div class="stu-bar"><label>π‘¤ μ΄λ¦„ <input type="text" id="stu-name" placeholder="μ΄λ¦„"></label><label>π“… λ‚ μ§ <input
                    type="date" id="stu-date"></label></div>
        <div class="learn">
            <h2><span class="ico" style="background:rgba(236,72,153,.15)">π”—</span> ν¬μΈν„°μ™€ λ°°μ—΄ μ‹¬ν™”</h2>
            <p>λ°°μ—΄κ³Ό ν¬μΈν„°μ κΉμ€ κ΄€κ³„, μ΄μ¤‘ ν¬μΈν„°, κ·Έλ¦¬κ³  malloc/freeκΉμ§€!</p>
        </div>
        <div id="problems"></div>
        <div class="submit-section">
            <p>λ¨λ“  λ¬Έμ λ¥Ό ν’€μ—λ‚μ”? π“¨</p><button class="btn-submit" id="btn-submit">π“„ μ μ¶ν•κΈ°</button>
        </div>
        <div class="modal-overlay" id="submit-modal">
            <div class="modal-box">
                <div class="modal-icon">β…</div>
                <h3>μ μ¶ μ™„λ£!</h3>
                <p>ν•™μµμ§€κ°€ μ €μ¥λμ—μµλ‹λ‹¤.</p>
                <div style="margin:12px 0"><span class="info-tag" id="modal-name"></span> <span class="info-tag"
                        id="modal-date"></span> <span class="info-tag" id="modal-count"></span></div>
                <p style="font-size:.78rem;color:var(--dim)">π“ <strong id="modal-filename"></strong></p><button
                    class="btn-close-modal" id="btn-close-modal">ν™•μΈ</button>
            </div>
        </div>
        <div class="pg"><a href="Unit39_ν¬μΈν„°κΈ°μ΄.html">β† Unit 39</a><span class="tag active">Unit 40</span><a
                href="../11_ν•¨μ/Unit41_ν•¨μκΈ°μ΄.html">Unit 41 β†’</a></div>
        <div class="ft">π–¥οΈ C μ–Έμ–΄ μ½”λ”© λ„μ¥ Β· Unit 40 Β· ν¬μΈν„°μ™€ λ°°μ—΄</div>
    </div>
    <script>
        const P = [
            {
                n: 1, t: "λ°°μ—΄ = ν¬μΈν„°?", d: 2,
                q: `arr[i]μ™€ *(arr+i)κ°€ κ°™λ‹¤λ” κ²ƒμ„ ν™•μΈν•μ„Έμ”.<pre class="code-c">int arr[] = {10,20,30,40,50};
printf("%d == %d\\n", arr[2], *(arr+2));
printf("%p == %p\\n", &arr[2], arr+2);</pre>`,
                a: `<span class="key">μ •λ‹µ</span><div class="output-box">30 == 30<br>0x... == 0x... (λ™μΌ)</div><div class="trace">arr[i] β‰΅ *(arr+i)<br>&arr[i] β‰΅ arr+i<br><br>μ»΄νμΌλ¬κ°€ arr[i]λ¥Ό *(arr+i)λ΅ λ³€ν™!</div>`
            },

            {
                n: 2, t: "ν•¨μμ— λ°°μ—΄ μ „λ‹¬", d: 2,
                q: `λ°°μ—΄μ„ ν•¨μμ— μ „λ‹¬ν•λ©΄ λ¬΄μ—‡μ΄ μ „λ‹¬λ κΉ?`,
                a: `<span class="key">μ •λ‹µ</span><pre class="code-c">void printArr(int *arr, int n) {
    for (int i=0;i<n;i++) printf("%d ", arr[i]);
}
<span class="cm">// λλ”: void printArr(int arr[], int n)</span>

int data[] = {1,2,3,4,5};
printArr(data, 5);</pre><div class="trace">λ°°μ—΄μ <span class="val">μ£Όμ†(ν¬μΈν„°)</span>κ°€ μ „λ‹¬λ¨!<br>ν¬κΈ° μ •λ³΄λ” μ—†μΌλ―€λ΅ nλ„ ν•¨κ» μ „λ‹¬!</div>`},

            {
                n: 3, t: "λ°°μ—΄ μμ • via ν¬μΈν„°", d: 2,
                q: `ν•¨μμ—μ„ λ°°μ—΄ μ”μ†λ¥Ό μμ •ν•μ„Έμ”.`,
                a: `<span class="key">μ •λ‹µ</span><pre class="code-c">void doubleAll(int *arr, int n) {
    for (int i=0;i<n;i++) arr[i] *= 2;
}
int data[] = {1,2,3,4,5};
doubleAll(data, 5);
<span class="cm">// data: 2,4,6,8,10</span></pre><div class="trace">ν¬μΈν„°λ΅ μ „λ‹¬ β†’ ν•¨μμ—μ„ μ›λ³Έ μμ •!</div>`},

            {
                n: 4, t: "μ΄μ¤‘ ν¬μΈν„°", d: 3,
                q: `μ΄μ¤‘ ν¬μΈν„°λ¥Ό μ„¤λ…ν•μ„Έμ”.<pre class="code-c">int a = 42;
int *p = &a;
int **pp = &p;
printf("%d\\n", **pp);</pre>`,
                a: `<span class="key">μ •λ‹µ</span><div class="output-box">42</div><div class="trace">pp β†’ p β†’ a<br>**pp = *(*pp) = *(p) = a = 42<br><br>int **pp = "ν¬μΈν„°μ μ£Όμ†λ¥Ό μ €μ¥ν•λ” ν¬μΈν„°"</div>`
            },

            {
                n: 5, t: "μ΄μ¤‘ ν¬μΈν„° ν™μ©", d: 3,
                q: `ν•¨μμ—μ„ ν¬μΈν„° μμ²΄λ¥Ό λ³€κ²½ν•λ ¤λ©΄?<pre class="code-c">void allocate(int **pp) {
    *pp = (int*)malloc(sizeof(int));
    **pp = 42;
}
int *p = NULL;
allocate(&p);
printf("%d\\n", *p);
free(p);</pre>`,
                a: `<span class="key">μ •λ‹µ</span><div class="output-box">42</div><div class="trace">&pλ¥Ό μ „λ‹¬ β†’ *ppλ΅ p μμ²΄λ¥Ό μμ •<br><span class="val">ν¬μΈν„°λ¥Ό ν•¨μμ—μ„ λ°”κΎΈλ ¤λ©΄ μ΄μ¤‘ ν¬μΈν„°!</span></div>`
            },

            {
                n: 6, t: "malloc β€” λ™μ  ν• λ‹Ή", d: 2,
                q: `λ™μ  λ©”λ¨λ¦¬ ν• λ‹ΉμΌλ΅ λ°°μ—΄μ„ λ§λ“μ„Έμ”.`,
                a: `<span class="key">μ •λ‹µ</span><pre class="code-c">#include &lt;stdlib.h&gt;
int n = 5;
int *arr = (int*)malloc(n * sizeof(int));
if (arr == NULL) { printf("ν• λ‹Ή μ‹¤ν¨!\\n"); return 1; }
for (int i=0;i<n;i++) arr[i] = (i+1)*10;
<span class="cm">// arr: 10 20 30 40 50</span>
free(arr); <span class="cm">// λ°λ“μ‹ ν•΄μ !</span></pre>`},

            {
                n: 7, t: "calloc β€” 0μΌλ΅ μ΄κΈ°ν™”", d: 2,
                q: `callocκ³Ό mallocμ μ°¨μ΄λ”?`,
                a: `<span class="key">μ •λ‹µ</span><pre class="code-c"><span class="cm">// malloc: μ“°λ κΈ°κ°’</span>
int *a = (int*)malloc(5 * sizeof(int));
<span class="cm">// calloc: 0μΌλ΅ μ΄κΈ°ν™”!</span>
int *b = (int*)calloc(5, sizeof(int));</pre><div class="trace">calloc(κ°μ, ν¬κΈ°) β†’ λ¨λ“  λ°”μ΄νΈλ¥Ό 0μΌλ΅!<br>malloc ν›„ memset(arr,0,n*sizeof(int))κ³Ό λ™μΌ</div>`},

            {
                n: 8, t: "realloc β€” ν¬κΈ° λ³€κ²½", d: 2,
                q: `λ™μ  λ°°μ—΄μ ν¬κΈ°λ¥Ό λλ¦¬μ„Έμ”.`,
                a: `<span class="key">μ •λ‹µ</span><pre class="code-c">int *arr = (int*)malloc(3*sizeof(int));
arr[0]=1; arr[1]=2; arr[2]=3;
arr = (int*)realloc(arr, 5*sizeof(int));
arr[3]=4; arr[4]=5;
<span class="cm">// arr: 1 2 3 4 5 (κΈ°μ΅΄ λ°μ΄ν„° μ μ§€!)</span>
free(arr);</pre>`},

            {
                n: 9, t: "λ©”λ¨λ¦¬ λ„μ", d: 2,
                q: `λ‹¤μ μ½”λ“μ λ¬Έμ μ μ€?<pre class="code-c">void leak() {
    int *p = (int*)malloc(100);
    printf("μ‘μ—… μ™„λ£\\n");
    <span class="cm">// free(p); λΉ μ Έμμ!</span>
}</pre>`,
                a: `<span class="key">μ •λ‹µ</span><div class="trace"><span class="err">λ©”λ¨λ¦¬ λ„μ(Memory Leak)!</span><br>mallocμΌλ΅ ν• λ‹Ήν• λ©”λ¨λ¦¬λ¥Ό freeν•μ§€ μ•μ<br>ν•¨μκ°€ λλ‚λ©΄ pλ” μ‚¬λΌμ§€μ§€λ§ λ©”λ¨λ¦¬λ” λ‚¨μ•„μμ!<br><br><span class="val">κ·μΉ™: malloc β†” free λ” ν•­μƒ μ§!</span></div>`
            },

            {
                n: 10, t: "2μ°¨μ› λ™μ  λ°°μ—΄", d: 3,
                q: `3x4 λ™μ  2μ°¨μ› λ°°μ—΄μ„ λ§λ“μ„Έμ”.`,
                a: `<span class="key">μ •λ‹µ</span><pre class="code-c">int rows=3, cols=4;
int **arr = (int**)malloc(rows*sizeof(int*));
for (int i=0;i<rows;i++)
    arr[i] = (int*)calloc(cols, sizeof(int));

arr[1][2] = 42; <span class="cm">// μ‚¬μ©</span>

<span class="cm">// ν•΄μ  (μ—­μ!)</span>
for (int i=0;i<rows;i++) free(arr[i]);
free(arr);</pre>`},

            {
                n: 11, t: "μ‹¬μ‚¬: ν¬μΈν„° λ°°μ—΄ vs λ°°μ—΄ ν¬μΈν„°", d: 3,
                q: `λ‘ μ„ μ–Έμ μ°¨μ΄λ¥Ό μ„¤λ…ν•μ„Έμ”.<pre class="code-c">int *a[3];     <span class="cm">// ?</span>
int (*b)[3];   <span class="cm">// ?</span></pre>`,
                a: `<span class="key">μ •λ‹µ</span><div class="trace">int *a[3] β†’ <span class="val">ν¬μΈν„° λ°°μ—΄</span><br>= int ν¬μΈν„° 3κ°μ§λ¦¬ λ°°μ—΄<br><br>int (*b)[3] β†’ <span class="val">λ°°μ—΄ ν¬μΈν„°</span><br>= int[3] λ°°μ—΄μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„°</div>`
            },

            {
                n: 12, t: "μ‹¬μ‚¬: ν¬μΈν„°λ΅ λ¬Έμμ—΄ λ°°μ—΄", d: 2,
                q: `λ™μ  λ¬Έμμ—΄ λ°°μ—΄μ„ λ§λ“μ„Έμ”.`,
                a: `<span class="key">μ •λ‹µ</span><pre class="code-c">char **names = (char**)malloc(3*sizeof(char*));
names[0] = (char*)malloc(20);
strcpy(names[0], "Alice");
names[1] = (char*)malloc(20);
strcpy(names[1], "Bob");
names[2] = (char*)malloc(20);
strcpy(names[2], "Charlie");
for (int i=0;i<3;i++) free(names[i]);
free(names);</pre>`},

            {
                n: 13, t: "μ‹¬μ‚¬: sizeof μ£Όμ", d: 2,
                q: `λ‹¤μ μ½”λ“μ μ¶λ ¥μ„ μ“°μ„Έμ”.<pre class="code-c">int arr[5] = {1,2,3,4,5};
int *p = arr;
printf("%zu\\n", sizeof(arr));
printf("%zu\\n", sizeof(p));</pre>`,
                a: `<span class="key">μ •λ‹µ</span><div class="output-box">20<br>8</div><div class="trace">sizeof(arr) = λ°°μ—΄ μ „μ²΄ ν¬κΈ° = 4Γ—5 = 20<br>sizeof(p) = ν¬μΈν„° ν¬κΈ° = 8 (64λΉ„νΈ)<br><br><span class="err">ν•¨μμ—μ„ sizeof(arr)λ” ν¬μΈν„° ν¬κΈ°!</span></div>`
            },

            {
                n: 14, t: "μ‹¬μ‚¬: ν•¨μ ν¬μΈν„°", d: 3,
                q: `ν•¨μ ν¬μΈν„°λ¥Ό μ„ μ–Έν•κ³  μ‚¬μ©ν•μ„Έμ”.`,
                a: `<span class="key">μ •λ‹µ</span><pre class="code-c">int add(int a, int b) { return a+b; }
int sub(int a, int b) { return a-b; }

int (*op)(int, int);  <span class="cm">// ν•¨μ ν¬μΈν„° μ„ μ–Έ</span>
op = add;
printf("%d\\n", op(3,2)); <span class="cm">// 5</span>
op = sub;
printf("%d\\n", op(3,2)); <span class="cm">// 1</span></pre>`},

            {
                n: 15, t: "π† Unit 40 μΆ…ν•©", d: 3,
                q: `λ‹¤μ μ½”λ“μ μ¶λ ¥μ„ μ“°μ„Έμ”.<pre class="code-c">int a = 10, b = 20, c = 30;
int *arr[] = {&a, &b, &c};
int **pp = arr;
printf("%d\\n", **pp);
pp++;
printf("%d\\n", **pp);
**(pp+1) = 99;
printf("%d\\n", c);</pre>`,
                a: `<span class="key">μ •λ‹µ</span><div class="output-box">10<br>20<br>99</div><div class="trace">arr = {&a, &b, &c}<br>**pp = *arr[0] = a = 10<br>pp++ β†’ arr[1], **pp = b = 20<br>**(pp+1) = *arr[2] = c β†’ c = 99</div>`
            }
        ];
        const c = document.getElementById('problems'); P.forEach(p => { const dc = p.d <= 1 ? 'ez' : p.d <= 2 ? 'md' : 'hd'; const dots = Array.from({ length: 5 }, (_, i) => `<span${i < p.d ? ' class="on"' : ''}>β€‹</span>`).join(''); c.innerHTML += `<div class="prob"><div class="prob-top"><div class="prob-num ${dc}">${p.n}</div><div class="prob-title">${p.t}</div><div class="diff-dots">${dots}</div></div><div class="prob-body"><div class="q">${p.q}</div><textarea class="write" placeholder="βοΈ λ‹µμ„ μ‘μ„±ν•μ„Έμ”"></textarea><details class="ans"><summary>μ •λ‹µ λ° ν•΄μ„¤ λ³΄κΈ°</summary><div class="ans-body">${p.a}</div></details></div></div>`; });
    </script>
    <script src="../submit.js"></script>
    <script src="../../platform.js"></script>
</body>

</html>