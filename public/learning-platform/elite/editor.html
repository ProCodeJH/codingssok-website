<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>ì½”ë“œ ì—ë””í„° â€” ì½”ë”©ì™ Elite</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <!-- CodeMirror 6 CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/dracula.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/clike/clike.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/matchbrackets.min.js"></script>
    <script>tailwind.config = { darkMode: "class", theme: { extend: { colors: { primary: "#2563eb", "primary-dark": "#1d4ed8", "text-main": "#1e293b", "text-muted": "#64748b", "bg-off": "#f8fafc", "bg-dark": "#0f172a", "surface-dark": "#1e293b", "border-light": "#e2e8f0", "border-dark": "#334155" }, fontFamily: { sans: ["Inter", "sans-serif"] }, boxShadow: { soft: "0 4px 20px -2px rgba(37,99,235,0.15)", card: "0 2px 10px rgba(0,0,0,0.03)" } } } }</script>
    <style>
        .nav-item.active {
            background: rgba(37, 99, 235, .1);
            color: #2563eb;
            border-color: #2563eb
        }

        .dark .nav-item.active {
            background: rgba(37, 99, 235, .2);
            color: #93c5fd
        }

        .CodeMirror {
            height: 100%;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 14px;
            border: none;
            background: transparent
        }

        .CodeMirror-gutters {
            background: transparent;
            border: none
        }

        .cm-s-dracula .CodeMirror-gutters {
            background: #21222c
        }

        .editor-panel {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 56px)
        }

        @media(min-width:1024px) {
            .editor-panel {
                flex-direction: row
            }
        }

        .lesson-panel {
            overflow-y: auto
        }
    </style>
</head>

<body
    class="bg-bg-off dark:bg-bg-dark text-text-main dark:text-gray-100 font-sans antialiased min-h-screen overflow-hidden">
    <!-- ê³µí†µ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav
        class="sticky top-0 z-50 bg-white/90 dark:bg-surface-dark/90 backdrop-blur-md border-b border-border-light dark:border-border-dark">
        <div class="max-w-[1800px] mx-auto px-4 flex items-center justify-between h-14">
            <div class="flex items-center gap-3">
                <div
                    class="w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-white shadow-md shadow-primary/30">
                    <span class="material-symbols-outlined text-lg">school</span></div><span
                    class="text-sm font-bold text-slate-900 dark:text-white">ì½”ë”©ì™ <span
                        class="text-primary">Elite</span></span>
            </div>
            <div class="hidden md:flex items-center gap-1">
                <a href="roadmap.html"
                    class="nav-item flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-text-muted dark:text-gray-400 rounded-lg border-b-2 border-transparent hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">ğŸ—ºï¸
                    ë¡œë“œë§µ</a>
                <a href="hub.html"
                    class="nav-item flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-text-muted dark:text-gray-400 rounded-lg border-b-2 border-transparent hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">ğŸ“š
                    í—ˆë¸Œ</a>
                <a href="challenge.html"
                    class="nav-item flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-text-muted dark:text-gray-400 rounded-lg border-b-2 border-transparent hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">ğŸ¯
                    ì±Œë¦°ì§€</a>
                <a href="leaderboard.html"
                    class="nav-item flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-text-muted dark:text-gray-400 rounded-lg border-b-2 border-transparent hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">ğŸ†
                    ë¦¬ë”ë³´ë“œ</a>
                <a href="goals.html"
                    class="nav-item flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-text-muted dark:text-gray-400 rounded-lg border-b-2 border-transparent hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">ğŸ¯
                    ëª©í‘œ</a>
                <a href="profile.html"
                    class="nav-item flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-text-muted dark:text-gray-400 rounded-lg border-b-2 border-transparent hover:bg-gray-100 dark:hover:bg-gray-800 transition-all">ğŸ‘¤
                    í”„ë¡œí•„</a>
                <a href="editor.html"
                    class="nav-item active flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold rounded-lg border-b-2 transition-all">ğŸ’»
                    ì—ë””í„°</a>
            </div>
            <div class="flex items-center gap-2">
                <button onclick="toggleDark()"
                    class="w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"><span
                        class="material-symbols-outlined text-lg dark-icon">dark_mode</span><span
                        class="material-symbols-outlined text-lg light-icon hidden">light_mode</span></button>
                <button onclick="document.getElementById('mmenu').classList.toggle('hidden')"
                    class="md:hidden w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-800 flex items-center justify-center"><span
                        class="material-symbols-outlined text-lg text-gray-500">menu</span></button>
            </div>
        </div>
        <div id="mmenu"
            class="hidden md:hidden border-t border-border-light dark:border-border-dark bg-white dark:bg-surface-dark px-4 py-2 space-y-1">
            <a href="roadmap.html" class="block px-3 py-2 text-sm text-text-muted rounded-lg">ğŸ—ºï¸ ë¡œë“œë§µ</a><a
                href="hub.html" class="block px-3 py-2 text-sm text-text-muted rounded-lg">ğŸ“š í—ˆë¸Œ</a><a
                href="challenge.html" class="block px-3 py-2 text-sm text-text-muted rounded-lg">ğŸ¯ ì±Œë¦°ì§€</a><a
                href="leaderboard.html" class="block px-3 py-2 text-sm text-text-muted rounded-lg">ğŸ† ë¦¬ë”ë³´ë“œ</a><a
                href="goals.html" class="block px-3 py-2 text-sm text-text-muted rounded-lg">ğŸ¯ ëª©í‘œ</a><a
                href="profile.html" class="block px-3 py-2 text-sm text-text-muted rounded-lg">ğŸ‘¤ í”„ë¡œí•„</a>
            <a href="editor.html" class="block px-3 py-2 text-sm font-bold text-primary bg-primary/10 rounded-lg">ğŸ’»
                ì—ë””í„°</a>
        </div>
    </nav>

    <!-- ì—ë””í„° ë©”ì¸ -->
    <div class="editor-panel">
        <!-- ë ˆìŠ¨ íŒ¨ë„ (ëª¨ë°”ì¼: íƒ­ ì „í™˜) -->
        <div id="lesson-tab"
            class="lesson-panel w-full lg:w-[380px] bg-white dark:bg-surface-dark border-r border-border-light dark:border-border-dark p-6 flex-shrink-0">
            <div class="flex items-center justify-between mb-5">
                <div class="flex items-center gap-2">
                    <span class="bg-primary/10 text-primary text-[10px] font-bold px-2 py-1 rounded uppercase">ë ˆìŠ¨
                        2/10</span>
                    <h2 class="text-base font-bold text-slate-900 dark:text-white">ë³€ìˆ˜ ì„ ì–¸</h2>
                </div>
                <button class="lg:hidden px-3 py-1 text-xs font-bold text-primary bg-primary/10 rounded-lg"
                    onclick="switchTab('code')">ì½”ë“œ ì‘ì„± â†’</button>
            </div>
            <div class="text-sm text-slate-700 dark:text-gray-300 leading-relaxed space-y-4">
                <p>Cì–¸ì–´ì—ì„œ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ëŠ” ë°©ë²•ì„ ë°°ì›Œë´…ì‹œë‹¤.</p>
                <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <h4 class="text-xs font-bold text-slate-900 dark:text-white mb-2">ğŸ“– ë³€ìˆ˜ë€?</h4>
                    <p class="text-xs text-text-muted">ë³€ìˆ˜ëŠ” ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤. ë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ë•ŒëŠ” ìë£Œí˜•ê³¼ ì´ë¦„ì„ ì§€ì •í•´ì•¼ í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="bg-slate-900 rounded-xl p-4 text-gray-300 font-mono text-xs leading-5">
                    <pre><span style="color:#a855f7;font-weight:600">int</span> age = <span style="color:#d97706">20</span>;
<span style="color:#a855f7;font-weight:600">float</span> height = <span style="color:#d97706">175.5</span>;
<span style="color:#a855f7;font-weight:600">char</span> grade = <span style="color:#059669">'A'</span>;</pre>
                </div>
                <div
                    class="bg-blue-50 dark:bg-blue-900/10 rounded-xl p-4 border border-blue-200 dark:border-blue-800/30">
                    <h4 class="text-xs font-bold text-blue-700 dark:text-blue-400 mb-1 flex items-center gap-1"><span
                            class="material-symbols-outlined text-sm">task_alt</span> ë¯¸ì…˜</h4>
                    <p class="text-xs text-blue-700 dark:text-blue-300">ì •ìˆ˜í˜• ë³€ìˆ˜ <code
                            class="bg-blue-100 dark:bg-blue-900/30 px-1 rounded">num</code>ì„ ì„ ì–¸í•˜ê³  ê°’ 42ë¥¼ ëŒ€ì…í•œ ë’¤ ì¶œë ¥í•˜ì„¸ìš”.</p>
                </div>
                <div
                    class="bg-amber-50 dark:bg-amber-900/10 rounded-xl p-4 border border-amber-200 dark:border-amber-800/30">
                    <h4 class="text-xs font-bold text-amber-700 dark:text-amber-400 mb-1 flex items-center gap-1"><span
                            class="material-symbols-outlined text-sm">lightbulb</span> íŒíŠ¸</h4>
                    <p class="text-xs text-amber-700 dark:text-amber-300"><code
                            class="bg-amber-100 dark:bg-amber-900/30 px-1 rounded">printf("%d", num);</code>ë¡œ ì •ìˆ˜ë¥¼ ì¶œë ¥í•  ìˆ˜
                        ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>

        <!-- ì½”ë“œ ì—ë””í„° íŒ¨ë„ -->
        <div id="code-tab" class="hidden lg:flex flex-col flex-1">
            <!-- ì—ë””í„° ìƒë‹¨ ë°” -->
            <div
                class="flex items-center justify-between px-4 py-2 bg-gray-50 dark:bg-gray-800 border-b border-border-light dark:border-border-dark">
                <div class="flex items-center gap-3">
                    <div class="flex items-center gap-1">
                        <div class="w-3 h-3 rounded-full bg-red-500"></div>
                        <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                        <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    </div>
                    <span class="text-xs text-text-muted font-mono">main.c</span>
                </div>
                <div class="flex items-center gap-2">
                    <select id="lang-select"
                        class="text-xs bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-2 py-1"
                        onchange="changeLang()">
                        <option value="text/x-csrc">C</option>
                        <option value="python">Python</option>
                        <option value="javascript">JavaScript</option>
                    </select>
                    <button class="lg:hidden px-3 py-1 text-xs font-bold text-primary bg-primary/10 rounded-lg"
                        onclick="switchTab('lesson')">â† ë ˆìŠ¨</button>
                </div>
            </div>

            <!-- ì½”ë“œë¯¸ëŸ¬ -->
            <div class="flex-1 bg-[#282a36]" id="editor-container">
                <textarea id="code-editor">#include &lt;stdio.h&gt;

int main() {
    // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
    int num = 42;
    printf("%d\n", num);
    return 0;
}</textarea>
            </div>

            <!-- í„°ë¯¸ë„/ì¶œë ¥ -->
            <div class="bg-slate-900 border-t border-gray-700 flex flex-col" style="height:180px">
                <div class="flex items-center justify-between px-4 py-2 border-b border-gray-700">
                    <div class="flex items-center gap-2">
                        <span class="text-[10px] font-bold text-gray-400 uppercase tracking-wider">í„°ë¯¸ë„</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <button onclick="runCode()"
                            class="px-4 py-1 bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-bold rounded-lg transition-colors flex items-center gap-1">
                            <span class="material-symbols-outlined text-sm">play_arrow</span> ì‹¤í–‰
                        </button>
                        <button onclick="document.getElementById('output').textContent=''"
                            class="px-3 py-1 bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs rounded-lg transition-colors">ì§€ìš°ê¸°</button>
                    </div>
                </div>
                <div class="flex-1 overflow-auto px-4 py-2">
                    <pre id="output"
                        class="text-xs text-emerald-400 font-mono leading-5 whitespace-pre-wrap">$ ì‹¤í–‰ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì„¸ìš”...</pre>
                </div>
            </div>
        </div>
    </div>

    <script>
        let editor;
        document.addEventListener('DOMContentLoaded', function () {
            editor = CodeMirror.fromTextArea(document.getElementById('code-editor'), {
                mode: 'text/x-csrc', theme: 'dracula', lineNumbers: true, matchBrackets: true, autoCloseBrackets: true,
                indentUnit: 4, tabSize: 4, indentWithTabs: false, lineWrapping: true,
            });
            // ëª¨ë°”ì¼ì—ì„œ ë ˆìŠ¨/ì½”ë“œ íƒ­ ì „í™˜
            if (window.innerWidth < 1024) {
                document.getElementById('code-tab').classList.remove('hidden');
                document.getElementById('code-tab').classList.add('hidden');
                document.getElementById('lesson-tab').classList.remove('hidden');
            } else {
                document.getElementById('code-tab').classList.remove('hidden');
                document.getElementById('code-tab').classList.add('flex');
            }
        });

        function switchTab(tab) {
            if (tab === 'code') {
                document.getElementById('lesson-tab').classList.add('hidden');
                document.getElementById('code-tab').classList.remove('hidden');
                document.getElementById('code-tab').classList.add('flex');
                setTimeout(() => editor && editor.refresh(), 100);
            } else {
                document.getElementById('code-tab').classList.add('hidden');
                document.getElementById('code-tab').classList.remove('flex');
                document.getElementById('lesson-tab').classList.remove('hidden');
            }
        }

        function changeLang() {
            const mode = document.getElementById('lang-select').value;
            editor.setOption('mode', mode);
            const templates = { 'text/x-csrc': '#include <stdio.h>\n\nint main() {\n    // ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”\n    \n    return 0;\n}', 'python': '# ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”\n\nnum = 42\nprint(num)', 'javascript': '// ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”\n\nconst num = 42;\nconsole.log(num);' };
            editor.setValue(templates[mode] || '');
        }

        function runCode() {
            const code = editor.getValue();
            const out = document.getElementById('output');
            out.textContent = '$ ì»´íŒŒì¼ ì¤‘...\n';
            setTimeout(() => {
                out.textContent += '$ ì‹¤í–‰ ì¤‘...\n';
                // ê°„ë‹¨í•œ ì‹œë®¬ë ˆì´ì…˜: printf/print/console.log ì¶”ì¶œ
                const printMatches = code.match(/printf\s*\(\s*"([^"]*)"/g) || code.match(/print\s*\(\s*(.+)\s*\)/g) || code.match(/console\.log\s*\(\s*(.+)\s*\)/g);
                if (printMatches) {
                    out.textContent += '\n--- ì¶œë ¥ ---\n';
                    // ê°„ë‹¨íˆ 42 ì¶œë ¥ ì‹œë®¬
                    if (code.includes('42')) out.textContent += '42\n';
                    else out.textContent += '(ì¶œë ¥ ê²°ê³¼)\n';
                    out.textContent += '\nâœ… í”„ë¡œê·¸ë¨ ì •ìƒ ì¢…ë£Œ (exit code: 0)\n';
                    out.textContent += 'â±ï¸ ì‹¤í–‰ ì‹œê°„: 0.003ì´ˆ\n';
                } else {
                    out.textContent += '\nâš ï¸ ì¶œë ¥ í•¨ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n';
                }
            }, 500);
        }

        function toggleDark() {
            document.documentElement.classList.toggle('dark'); const d = document.documentElement.classList.contains('dark'); localStorage.setItem('elite-dark', d ? '1' : '0'); document.querySelector('.dark-icon').classList.toggle('hidden', d); document.querySelector('.light-icon').classList.toggle('hidden', !d);
            if (editor) { editor.setOption('theme', d ? 'dracula' : 'default') }
        }
        (function () { if (localStorage.getItem('elite-dark') === '1') { document.documentElement.classList.add('dark'); document.querySelector('.dark-icon')?.classList.add('hidden'); document.querySelector('.light-icon')?.classList.remove('hidden') } })();
    </script>
</body>

</html>